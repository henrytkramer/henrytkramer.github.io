"use strict";(self.webpackChunkgatsby_starter_default=self.webpackChunkgatsby_starter_default||[]).push([[508],{5091:function(e,t,n){var r=n(7294);t.Z=e=>{let{children:t,delay:n=0,...a}=e;return r.createElement("div",Object.assign({"data-sal":"slide-up"},a),t)}},6377:function(e,t,n){var r=n(7294),a=n(5754);const i={initial:{opacity:0},animate:e=>({opacity:1,transition:{duration:1.2,delay:e}})},l={animate:e=>({y:0,opacity:1,transition:{delay:e,y:{type:"spring",stiffness:50,bounce:1,mass:1.1,duration:1},default:{duration:.8}}}),initial:{opacity:0,y:".8em"}};t.Z=e=>{let{text:t="",variants:n={},containerVariants:c={},delay:o=0,...s}=e;return Object.keys(n).length||(n=l),Object.keys(c).length||(c=i),r.createElement("div",Object.assign({style:{overflow:"hidden"}},s),r.createElement(a.E.div,{key:t,custom:o,variants:n,initial:"initial",animate:"animate"},t))}},8419:function(e,t,n){n.r(t),n.d(t,{default:function(){return f}});var r=n(7294),a=(n(1883),n(1876)),i="media-list-module--info--af1a8",l="media-list-module--movement--c0e54",c="media-list-module--work--a681e";var o=e=>{let{videos:t,setActive:n,activeIndex:a}=e;return r.createElement(r.Fragment,null,r.createElement("h4",{className:"media-list-module--videos-list-title--1bc7f"},"Videos"),r.createElement("div",{className:"media-list-module--videos-list--e4696"},t.map(((e,t)=>r.createElement("div",{className:"media-list-module--video-item--99a06 "+(t==a?"media-list-module--active--bf25d":""),onClick:()=>n(t)},r.createElement("div",{className:"media-list-module--composer--47d61"},e.composer),r.createElement("div",{className:c},e.work),r.createElement("div",{className:l},e.movement),r.createElement("div",{className:i},e.info))))))},s=n(6377),u=(n(5091),n(4251)),m=n(5754);var d=e=>{let{video:t}=e;return r.createElement(r.Fragment,null,r.createElement(s.Z,{className:"media-list-module--player-title--22157",text:t.composer}),r.createElement("div",{className:"media-list-module--player-subtitle--92128"},r.createElement(s.Z,{className:c,text:t.work}),r.createElement(s.Z,{className:l,text:t.movement}),r.createElement(s.Z,{className:i,text:t.info})),r.createElement(u.M,null,r.createElement(m.E.div,{className:"media-list-module--player-video--33662",key:`${t.composer}-video`,initial:{opacity:0,scaleX:.8},animate:{opacity:1,scaleX:1,transition:{opacity:{duration:1},default:{duration:.5}}},exit:{opacity:0,scaleX:1.05},transition:{duration:.5,type:"easeOut"}},r.createElement("iframe",{id:"ytplayer",type:"text/html",height:"100%",width:"100%",src:t.link,frameborder:"0"}))))};var f=e=>{let{data:t}=e;const{0:n,1:i}=(0,r.useState)(0);return r.createElement(a.Z,{grid:!0},r.createElement(d,{video:t.allVideosYaml.nodes[n]}),r.createElement(o,{videos:t.allVideosYaml.nodes,setActive:i,activeIndex:n}))}},4251:function(e,t,n){n.d(t,{M:function(){return E}});var r=n(7582),a=n(7294),i=n(9304),l=n(2396),c=n(8868);function o(){var e=(0,a.useRef)(!1);return(0,c.L)((function(){return e.current=!0,function(){e.current=!1}}),[]),e}var s=n(240),u=n(6681),m=n(6316),d=function(e){var t=e.children,n=e.initial,i=e.isPresent,l=e.onExitComplete,c=e.custom,o=e.presenceAffectsLayout,d=(0,u.h)(f),v=(0,m.M)(),p=(0,a.useMemo)((function(){return{id:v,initial:n,isPresent:i,custom:c,onExitComplete:function(e){var t,n;d.set(e,!0);try{for(var a=(0,r.XA)(d.values()),i=a.next();!i.done;i=a.next()){if(!i.value)return}}catch(c){t={error:c}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}null==l||l()},register:function(e){return d.set(e,!1),function(){return d.delete(e)}}}}),o?void 0:[i]);return(0,a.useMemo)((function(){d.forEach((function(e,t){return d.set(t,!1)}))}),[i]),a.useEffect((function(){!i&&!d.size&&(null==l||l())}),[i]),a.createElement(s.O.Provider,{value:p},t)};function f(){return new Map}var v=n(5364),p=n(5411),y=function(e){return e.key||""};var E=function(e){var t=e.children,n=e.custom,s=e.initial,u=void 0===s||s,m=e.onExitComplete,f=e.exitBeforeEnter,E=e.presenceAffectsLayout,h=void 0===E||E,x=(0,r.CR)(function(){var e=o(),t=(0,r.CR)((0,a.useState)(0),2),n=t[0],i=t[1],c=(0,a.useCallback)((function(){e.current&&i(n+1)}),[n]);return[(0,a.useCallback)((function(){return l.ZP.postRender(c)}),[c]),n]}(),1),k=x[0],g=(0,a.useContext)(v.p).forceRender;g&&(k=g);var b=o(),w=function(e){var t=[];return a.Children.forEach(e,(function(e){(0,a.isValidElement)(e)&&t.push(e)})),t}(t),C=w,N=new Set,O=(0,a.useRef)(C),A=(0,a.useRef)(new Map).current,R=(0,a.useRef)(!0);if((0,c.L)((function(){R.current=!1,function(e,t){e.forEach((function(e){var n=y(e);t.set(n,e)}))}(w,A),O.current=C})),(0,p.z)((function(){R.current=!0,A.clear(),N.clear()})),R.current)return a.createElement(a.Fragment,null,C.map((function(e){return a.createElement(d,{key:y(e),isPresent:!0,initial:!!u&&void 0,presenceAffectsLayout:h},e)})));C=(0,r.ev)([],(0,r.CR)(C),!1);for(var P=O.current.map(y),Z=w.map(y),L=P.length,M=0;M<L;M++){var z=P[M];-1===Z.indexOf(z)&&N.add(z)}return f&&N.size&&(C=[]),N.forEach((function(e){if(-1===Z.indexOf(e)){var t=A.get(e);if(t){var r=P.indexOf(e);C.splice(r,0,a.createElement(d,{key:y(t),isPresent:!1,onExitComplete:function(){A.delete(e),N.delete(e);var t=O.current.findIndex((function(t){return t.key===e}));if(O.current.splice(t,1),!N.size){if(O.current=w,!1===b.current)return;k(),m&&m()}},custom:n,presenceAffectsLayout:h},t))}}})),C=C.map((function(e){var t=e.key;return N.has(t)?e:a.createElement(d,{key:y(e),isPresent:!0,presenceAffectsLayout:h},e)})),"production"!==i.O&&f&&C.length>1&&console.warn("You're attempting to animate multiple children within AnimatePresence, but its exitBeforeEnter prop is set to true. This will lead to odd visual behaviour."),a.createElement(a.Fragment,null,N.size?C:C.map((function(e){return(0,a.cloneElement)(e)})))}}}]);
//# sourceMappingURL=component---src-pages-media-js-7300be742f2ec962d5db.js.map