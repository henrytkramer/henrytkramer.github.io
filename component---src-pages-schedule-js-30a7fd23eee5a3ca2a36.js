"use strict";(self.webpackChunkgatsby_starter_default=self.webpackChunkgatsby_starter_default||[]).push([[336],{4882:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(7294),a=n(1883),i=n(5754),c=n(3854);const o={enter:e=>({opacity:1,y:0,transition:{delay:.05*e,duration:.3}}),exit:{opacity:0,backgroundColor:"red"},hidden:{opacity:0,y:30}};var l=e=>{let{event:t,i:n}=e;return r.createElement(i.E.div,{key:`${t.title}+${t.dateFormatted}`,custom:n,initial:"hidden",animate:"enter",exit:"exit",variants:o},r.createElement("div",{className:"events-module--row--e47e7"},r.createElement("div",{className:"events-module--date--1b94a"},r.createElement("span",{className:"nowrap"},t.dateFormatted)," ",t.endDateFormatted&&r.createElement(r.Fragment,null," — ",r.createElement("span",{className:"nowrap"},t.endDateFormatted))),r.createElement("div",{className:"events-module--location--87cb9"},t.location),r.createElement("div",{className:"events-module--description--73819"},r.createElement("div",{className:"events-module--title--5eb8d"},t.title),t.description),r.createElement("div",{className:"events-module--actions--dc3cb"},t.link&&r.createElement(a.Link,{target:"_blank",to:t.link,alt:"Details"},r.createElement("span",{className:"events-module--actions-text--6830b"},"Event Details")," ",r.createElement(c.Hi9,null)))))}},5869:function(e,t,n){var r=n(7294),a=(n(1883),n(4251)),i=n(4882);const c=function(e){let t=[],n=[],r=[];if(e){t=e.allGoogleScheduleSheet.nodes;const a={timeStyle:"short",hour12:!0},i={month:"short",day:"numeric"},c={month:"short",day:"numeric",year:"numeric"},o=(new Date).getFullYear(),l=Date.now();t.forEach((e=>{const t=new Date(e.date);e.date=t;const u=t.getFullYear()==o?i:c;if(e.dateFormatted=t.toLocaleDateString([],u),e.start){const t=new Date(e.date+" "+e.start);e.startFormatted=t.toLocaleTimeString([],a)}if(e.endDate){const t=new Date(e.endDate);e.endDateFormatted=t.toLocaleDateString([],u)}t.getTime()>=l?n.push(e):r.push(e)}))}return n.sort(((e,t)=>e.date-t.date)),r.sort(((e,t)=>t.date-e.date)),[n,r]};t.Z=e=>{let{data:t={},showing:n=0,limit:o=99}=e;const[l,u]=c(t),s=0===n?l:u;return r.createElement("div",null,s.slice(0,o).map(((e,t)=>r.createElement(a.M,{exitBeforeEnter:!0},r.createElement(i.Z,{event:e,i:t})))))}},5755:function(e,t,n){n.r(t),n.d(t,{default:function(){return l}});var r=n(7294),a=n(1876),i=(n(4882),n(8183));var c=e=>{let{options:t,activeIndex:n,setActiveIndex:a}=e;return r.createElement("div",{className:"bigswitch-module--container--9a18c"},t.map(((e,t)=>r.createElement("div",{onClick:()=>a(t),className:"bigswitch-module--option--76ecc "+(t==n?"bigswitch-module--active--37a32":"")},e))))},o=n(5869);var l=e=>{let{data:t}=e;const{0:n,1:l}=(0,r.useState)(0);return r.createElement(a.Z,null,r.createElement(i.Z,{title:"Upcoming concerts schedule"}),r.createElement(c,{options:["Upcoming","Past"],activeIndex:n,setActiveIndex:l}),r.createElement(o.Z,{showing:n,data:t}))}},4251:function(e,t,n){n.d(t,{M:function(){return h}});var r=n(7582),a=n(7294),i=n(9304),c=n(2396),o=n(8868);function l(){var e=(0,a.useRef)(!1);return(0,o.L)((function(){return e.current=!0,function(){e.current=!1}}),[]),e}var u=n(240),s=n(6681),d=n(6316),m=function(e){var t=e.children,n=e.initial,i=e.isPresent,c=e.onExitComplete,o=e.custom,l=e.presenceAffectsLayout,m=(0,s.h)(f),v=(0,d.M)(),p=(0,a.useMemo)((function(){return{id:v,initial:n,isPresent:i,custom:o,onExitComplete:function(e){var t,n;m.set(e,!0);try{for(var a=(0,r.XA)(m.values()),i=a.next();!i.done;i=a.next()){if(!i.value)return}}catch(o){t={error:o}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}null==c||c()},register:function(e){return m.set(e,!1),function(){return m.delete(e)}}}}),l?void 0:[i]);return(0,a.useMemo)((function(){m.forEach((function(e,t){return m.set(t,!1)}))}),[i]),a.useEffect((function(){!i&&!m.size&&(null==c||c())}),[i]),a.createElement(u.O.Provider,{value:p},t)};function f(){return new Map}var v=n(5364),p=n(5411),E=function(e){return e.key||""};var h=function(e){var t=e.children,n=e.custom,u=e.initial,s=void 0===u||u,d=e.onExitComplete,f=e.exitBeforeEnter,h=e.presenceAffectsLayout,y=void 0===h||h,g=(0,r.CR)(function(){var e=l(),t=(0,r.CR)((0,a.useState)(0),2),n=t[0],i=t[1],o=(0,a.useCallback)((function(){e.current&&i(n+1)}),[n]);return[(0,a.useCallback)((function(){return c.ZP.postRender(o)}),[o]),n]}(),1),w=g[0],x=(0,a.useContext)(v.p).forceRender;x&&(w=x);var k=l(),b=function(e){var t=[];return a.Children.forEach(e,(function(e){(0,a.isValidElement)(e)&&t.push(e)})),t}(t),C=b,D=new Set,F=(0,a.useRef)(C),L=(0,a.useRef)(new Map).current,N=(0,a.useRef)(!0);if((0,o.L)((function(){N.current=!1,function(e,t){e.forEach((function(e){var n=E(e);t.set(n,e)}))}(b,L),F.current=C})),(0,p.z)((function(){N.current=!0,L.clear(),D.clear()})),N.current)return a.createElement(a.Fragment,null,C.map((function(e){return a.createElement(m,{key:E(e),isPresent:!0,initial:!!s&&void 0,presenceAffectsLayout:y},e)})));C=(0,r.ev)([],(0,r.CR)(C),!1);for(var A=F.current.map(E),P=b.map(E),R=A.length,S=0;S<R;S++){var M=A[S];-1===P.indexOf(M)&&D.add(M)}return f&&D.size&&(C=[]),D.forEach((function(e){if(-1===P.indexOf(e)){var t=L.get(e);if(t){var r=A.indexOf(e);C.splice(r,0,a.createElement(m,{key:E(t),isPresent:!1,onExitComplete:function(){L.delete(e),D.delete(e);var t=F.current.findIndex((function(t){return t.key===e}));if(F.current.splice(t,1),!D.size){if(F.current=b,!1===k.current)return;w(),d&&d()}},custom:n,presenceAffectsLayout:y},t))}}})),C=C.map((function(e){var t=e.key;return D.has(t)?e:a.createElement(m,{key:E(e),isPresent:!0,presenceAffectsLayout:y},e)})),"production"!==i.O&&f&&C.length>1&&console.warn("You're attempting to animate multiple children within AnimatePresence, but its exitBeforeEnter prop is set to true. This will lead to odd visual behaviour."),a.createElement(a.Fragment,null,D.size?C:C.map((function(e){return(0,a.cloneElement)(e)})))}}}]);
//# sourceMappingURL=component---src-pages-schedule-js-30a7fd23eee5a3ca2a36.js.map